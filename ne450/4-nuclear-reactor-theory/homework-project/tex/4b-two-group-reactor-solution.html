<!DOCTYPE html>
<html>
  <head>
    <title>4. Two group solution</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Ubuntu:500);
      @import url(https://fonts.googleapis.com/css?family=Open+Sans);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Open Sans', sans-serif; }
      h1, h2, h3 {
        font-family: 'Ubuntu';
        font-weight: normal;
        }
      .remark-container {background-color: #F5F5F5; }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-slide-content { background-color: #FFFAF0; font-size: 26px; 
                         h1 { font-size: 38px; } h2 {font-size: 32px; } h3 { font-size: 28px; }
       }
      .remark-slide-number { bottom: 8px; position: absolute; right: 8px; }
    </style>
  </head>
  <body>
<textarea id="source">
class: center, middle

# NE450
## PRINCIPLES OF NUCLEAR ENGINEERING  
### Nuclear reactor theory

#### 4
---
# Outcomes for the lecture

Solving coupled differential equations for flux
---
# Equation of continuity for neutrons describes behavior in a reactor

[rate of change of neutrons] = [production rate] - [absorption rate] - [leakage rate]

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\frac{d}{dt}\int_V&space;ndV=\int_V&space;sdV-\int_V\Sigma_A\phi&space;dV-\int_V\underline{J}\cdot\underline{n}dA" title="\large \frac{d}{dt}\int_V ndV=\int_V sdV-\int_V\Sigma_A\phi dV-\int_V\underline{J}\cdot\underline{n}dA" />

Apply some math and Green's theorem

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\int_V&space;\frac{\partial{n}}{\partial{t}}&space;dV=\int_V&space;sdV-\int_V\Sigma_A\phi&space;dV-\int_V\nabla{J}dV" title="\large \int_V \frac{\partial{n}}{\partial{t}} dV=\int_V sdV-\int_V\Sigma_A\phi dV-\int_V\nabla{J}dV" />
---
# Simplify the continutity equation

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\frac{\partial{n}}{\partial{t}}=s-\Sigma_A\phi-\nabla{J}" title="\large \frac{\partial{n}}{\partial{t}}=s-\Sigma_A\phi-\nabla{J}" />

Apply Fick's law

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\frac{\partial{n}}{\partial{t}}=D\nabla^2{\phi}-\Sigma_A\phi&plus;s" title="\large \frac{\partial{n}}{\partial{t}}=D\nabla^2{\phi}-\Sigma_A\phi+s" />  
<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\frac{1}{v}\frac{\partial{\phi}}{\partial{t}}=D\nabla^2{\phi}-\Sigma_A\phi&plus;s" title="\large \frac{1}{v}\frac{\partial{\phi}}{\partial{t}}=D\nabla^2{\phi}-\Sigma_A\phi+s" />

At steady state

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;D\nabla^2{\phi}-\Sigma_A\phi&plus;s=0" title="\large D\nabla^2{\phi}-\Sigma_A\phi+s=0" />
---
# Neutrons actually have a distribution in energy

Emitted in fission with continuous energy spectrum

To get around this ranges of neutrons grouped into 'bins'

Group diffusion theory

Each group has averaged parameters

Continuity equation then needs more terms
Scatter out of the group
Scatter into the group

Three group diffusion, etc.
---
![Multigroup neutron diffusion](img/multigroup.neutron.diffusion.jpg)
---
# Apply diffusion equation for group g

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;D_g\nabla^2{\phi_g}-\Sigma_A^g\phi_g-\sum_{h=g&plus;1}^N{\Sigma_{g&space;\rightarrow&space;h}\phi_g}&plus;\sum_{h=1}^{g-1}{\Sigma_{h&space;\rightarrow&space;g}\phi_h}&plus;s_g=0" title="\large D_g\nabla^2{\phi_g}-\Sigma_A^g\phi_g-\sum_{h=g+1}^N{\Sigma_{g \rightarrow h}\phi_g}+\sum_{h=1}^{g-1}{\Sigma_{h \rightarrow g}\phi_h}+s_g=0" />

So now, there is absorption in group g

But there is scatter from g to h which is a loss term

And then scatter into g from h which is an additional source term
---
# For a fast group and thermal group

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\large&space;D_1\nabla^2{\phi_1}-\Sigma_A^1\phi_1-\Sigma_{1&space;\rightarrow&space;T}\phi_1&plus;s_1=0" title="\large \large D_1\nabla^2{\phi_1}-\Sigma_A^1\phi_1-\Sigma_{1 \rightarrow T}\phi_1+s_1=0" />  
<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;D_T\nabla^2{\phi_T}-\Sigma_A^T\phi_T&plus;s_T=0" title="\large D_T\nabla^2{\phi_T}-\Sigma_A^T\phi_T+s_T=0" />

Assume bulk of fissions induced by thermal neutrons  
<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\eta_T&space;f&space;\epsilon&space;\Sigma_A^T&space;\phi_T&space;=&space;\frac{k_{\infty}}{p}&space;\Sigma_A^T&space;\phi_T" title="\large \eta_T f \epsilon \Sigma_A^T \phi_T = \frac{k_{\infty}}{p} \Sigma_A^T \phi_T" />  
<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;s_1=&space;\frac{k_{\infty}}{p}&space;\Sigma_A^T&space;\phi_T" title="\large s_1= \frac{k_{\infty}}{p} \Sigma_A^T \phi_T" />

Fast neutrons scattered out must survive the resonances

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;s_T=p\Sigma_{1&space;\rightarrow&space;T}\phi_1" title="\large s_T=p\Sigma_{1 \rightarrow T}\phi_1" />
---
# Rearrange

Let $\frac{d^2\phi}{dx^2} \equiv \phi''$ to clean up the mess and save on typing

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;D_1\phi''_1-\Sigma_A^1\phi_1-\Sigma_{1&space;\rightarrow&space;T}\phi_1&plus;\frac{k_{\infty}}{p}&space;\Sigma_A^T&space;\phi_T=0" title="\large D_1\phi''_1-\Sigma_A^1\phi_1-\Sigma_{1 \rightarrow T}\phi_1+\frac{k_{\infty}}{p} \Sigma_A^T \phi_T=0" />

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;D_T\phi''_T-\Sigma_A^T\phi_T&plus;p\Sigma_{1&space;\rightarrow&space;T}\phi_1=0" title="\large D_T\phi''_T-\Sigma_A^T\phi_T+p\Sigma_{1 \rightarrow T}\phi_1=0" />
---
# Clean up

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\phi''_1-\frac{1}{K^2}\phi_1&plus;f\phi_T=0" title="\large \phi''_1-\frac{1}{K^2}\phi_1+f\phi_T=0" />  
<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\large&space;\phi''_T&plus;g\phi_1-\frac{1}{L^2}\phi_T=0" title="\large \phi''_T+g\phi_1-\frac{1}{L^2}\phi_T=0" />  
<img src="https://latex.codecogs.com/gif.latex?\dpi{150}&space;\large&space;\begin{align*}&space;K^2=\frac{D_1}{\Sigma_{1&space;\rightarrow&space;T}&plus;\Sigma_A^1}&space;\\&space;L^2=\frac{D_T}{\Sigma_A^T}&space;\\&space;f=\frac{k\Sigma_A^T}{pD_1}&space;\\&space;g=\frac{p\Sigma_{1&space;\rightarrow&space;T}}{D_T}&space;\end{align*}" title="\large \begin{align*} K^2=\frac{D_1}{\Sigma_{1 \rightarrow T}+\Sigma_A^1} \\ L^2=\frac{D_T}{\Sigma_A^T}
\\ f=\frac{k\Sigma_A^T}{pD_1} \\ g=\frac{p\Sigma_{1 \rightarrow T}}{D_T} \end{align*}" />
---
# Put in matrix form

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\underline{\phi}''=\underline{\underline{A}}\cdot\underline{\phi}" title="\underline{\phi}''=\underline{\underline{A}}\cdot\underline{\phi}" />

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\begin{bmatrix}&space;\phi''_1&space;\\&space;\phi''_T&space;\end{bmatrix}&space;=&space;\begin{bmatrix}&space;\frac{1}{K^2}&space;&&space;-f&space;\\&space;-g&space;&&space;\frac{1}{L^2}&space;\end{bmatrix}&space;\cdot&space;\begin{bmatrix}&space;\phi_1&space;\\&space;\phi_T&space;\end{bmatrix}" title="\begin{bmatrix} \phi''_1 \\ \phi''_T \end{bmatrix} = \begin{bmatrix} \frac{1}{K^2} & -f \\ -g & \frac{1}{L^2}
\end{bmatrix} \cdot \begin{bmatrix} \phi_1 \\ \phi_T \end{bmatrix}" />
---
# Find eigenvalues

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;\underline{\underline{A}}\cdot\underline{x}=\lambda^2\underline{x}" title="\underline{\underline{A}}\cdot\underline{x}=\lambda^2\underline{x}" />

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;(\underline{\underline{A}}-\lambda^2\underline{\underline{I}})\underline{x}=0" title="(\underline{\underline{A}}-\lambda^2\underline{\underline{I}})\underline{x}=0" />

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;det(\underline{\underline{A}}-\lambda^2\underline{\underline{I}})=0" title="det(\underline{\underline{A}}-\lambda^2\underline{\underline{I}})=0" />

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;det&space;\begin{bmatrix}&space;\frac{1}{K^2}-\lambda^2&space;&&space;-f&space;\\&space;-g&space;&&space;\frac{1}{L^2}-\lambda^2&space;\end{bmatrix}" title="det \begin{bmatrix} \frac{1}{K^2}-\lambda^2 & -f \\ -g & \frac{1}{L^2}-\lambda^2 \end{bmatrix}" />

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;det&space;\begin{bmatrix}&space;\frac{1}{K^2}-\lambda^2&space;&&space;-f&space;\\&space;-g&space;&&space;\frac{1}{L^2}-\lambda^2&space;\end{bmatrix}=\frac{1}{K^2}(\frac{1}{L^2}-\lambda^2)&plus;\lambda^4-\lambda^2\frac{1}{L^2}&plus;fg=0" title="det \begin{bmatrix} \frac{1}{K^2}-\lambda^2 & -f \\ -g & \frac{1}{L^2}-\lambda^2
\end{bmatrix}=\frac{1}{K^2}(\frac{1}{L^2}-\lambda^2)+\lambda^4-\lambda^2\frac{1}{L^2}+fg=0" />
---
# Solve for eigenvalues

<img src="https://latex.codecogs.com/gif.latex?\dpi{200}&space;K^2L^2\lambda^4-(L^2&plus;K^2)\lambda^2&plus;fgK^2L^2&plus;1=0" title="K^2L^2\lambda^4-(L^2+K^2)\lambda^2+fgK^2L^2+1=0" />

[Eigenvalue solution](http://www.wolframalpha.com/widgets/view.jsp?id=dcc8007e03af36a0bd3635b09e4cd5a2)

[Eigenvector solution](http://tutorial.math.lamar.edu/Classes/DE/ComplexEigenvalues.aspx)

[Help with second order](http://www.math.utah.edu/~gustafso/2250systems-de.pdf)

Have to find $z = \lambda x$ also 
</textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <script type="text/javascript">
        var options = {};
        var renderMath = function() {
            renderMathInElement(document.body, {delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\[", right: "\\]", display: false},
            ]});
        }
        var slideshow = remark.create({
          // Set the slideshow display ratio
          // Default: '4:3'
          // Alternatives: '16:9', ...
          ratio: '16:9',
          // Navigation options
          navigation: {
          // Enable or disable navigating using scroll
          // Default: true
          // Alternatives: false
          scroll: true,
          // Enable or disable navigation using touch
          // Default: true
          // Alternatives: false
          touch: true,
          // Enable or disable navigation using click
          // Default: false
          // Alternatives: true
          click: false
          },
          // Customize slide number label, either using a format string..
          slideNumberFormat: '%current%',
          // Enable or disable counting of incremental slides in the slide counting
          countIncrementalSlides: false 
          }, renderMath);
    </script>
    <script type="text/javascript">
     /**
      * a simple zoom in/out/reset for remark.js
      *
      * Hot key:
      *   + : zoom in
      *   - : zoom out
      *   0 : reset zoom
      *
      * CAVEAT: when switching between full screen and normal screen,
      *         the zoom factor may not function correctly.
      *         RELOAD the page, if necessary.
      *
      * 
      * @author William Yeh <william.pjyeh@gmail.com>
      * @date   2015-01-15
      *
      * @license Apache License, Version 2.0.
      * Copyright Â© 2015 William Yeh.
      */
      var ZOOM_TEXT_SELECTOR =
       ".remark-slide-content p"
       + "," + ".remark-slide-content .remark-code-line"
       ;

      var ZOOM_IMG_SELECTOR =
       ".remark-slide-content img:hover"
       ;

      var ZOOM_IMG_RULE;

      var zoom_factor = 100.0;
      document.body.style.zoom = "100%"
    
      function init_zoom_rule() {
       // @see http://davidwalsh.name/add-rules-stylesheets
       var styles = document.styleSheets[0];
       var index = styles.insertRule(
        ZOOM_IMG_SELECTOR + ' { transform:scale(1); }',
        styles.cssRules.length
        );

        ZOOM_IMG_RULE = styles.cssRules.item(index);
       }
    
      function apply_zoom() {
       var elements = document.querySelectorAll(ZOOM_TEXT_SELECTOR);
       //console.log('length:', elements.length);
       for (var i = 0; i < elements.length; ++i) {
        var item = elements[i];
        item.style.fontSize = zoom_factor.toString() + '%';
        }

        ZOOM_IMG_RULE.style.transform = 'scale(' + (zoom_factor / 100) + ')';
      }

      function zoom_in() {
       zoom_factor += 10;
       if (zoom_factor >= 200.0)  zoom_factor = 200.0;
       apply_zoom();
      }
    
      function zoom_out() {
       zoom_factor -= 10;
       if (zoom_factor <= 50.0)  zoom_factor = 50.0;
       apply_zoom();
      }

      function zoom_reset() {
       zoom_factor = 100.0;
       apply_zoom();
      }

      init_zoom_rule();
      window.addEventListener("keydown", function(event) {
       //console.log(event.keyCode);
       switch (event.keyCode) {
        case 187:  // '+': 187 in Chrome & Safari, 61 in FF
        case 61:  // '+': 187 in Chrome, 61 in FF
         zoom_in(); 
         break;

        case 189:  // '-': 189 in Chrome & Safari, 173 in FF
        case 173:  // '-': 189 in Chrome, 173 in FF
         zoom_out();
         break;
        case 48:   // '0'
         zoom_reset();
         break;
       }
      }, false);
    </script>
  </body>
</html>
